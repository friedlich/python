练习介绍
【程序功能】  

我们将完成一个和语义识别相关的爬虫程序，输入任意词汇、句子、文章或段落，会返回联想的词汇。  

【背景信息】  

有一个非常牛的处理语言的网站nlpir，上面有非常多的处理语言的功能（如分词标注、情感分析、相关词汇）。  

举个例子，我输入“音乐剧”：  

爬虫练习_画板 1  

然后点击“Word2vec”（返回联想词汇的功能）：  

爬虫练习_画板 1 副本  

下面就会返回“音乐剧”的联想词汇：  

爬虫练习-03  

当然这个网站还有其他的功能，像“分词标注”，就是把你输入的文本切成一个个的词，并且把这些词的词性都标出来；  

还有“情感分析”的功能，就是分析你输入的文本里面“乐”、“恶”、“怒”、“哀”等情绪的占比是多少......  

可是，这些功能的意义在哪呢？  

在人工智能领域里，有一个很重要的领域，叫自然语言处理（NLP）。NLP致力于让计算机听懂人的话，理解人的话，在此基础上，人与计算机才有对话的可能。  

而这个处理语言的网站的主要功能（如分词标注、情感分析、关键词提取、相关词汇等），就是NLP中的核心的底层技术。  

我们所理解的siri、小爱同学、微软小冰，这些可以和人交流的对话系统，也是建构在NLP之上的。  

无论最后建成的大楼有多么宏伟，都不可缺少坚实的地基。而对词语的基本处理，就是人工智能的一种“地基”，所以大家不要小觑这个网站中对语言处理的基本功能。  

【实现路径】  

刚刚提到，我们的程序有这样的功能：输入任意词汇、句子、文章或段落，会返回该联想词汇。  

我们会用post发送请求，然后得到返回的结果。



http://ictclas.nlpir.org/nlpir/



我们一步一步来分析一下这个网站，点开：http://ictclas.nlpir.org/nlpir/

“Word2vec”（联想词汇），是一个上传数据，然后服务器解析数据，返回给我们的过程。所以它不会写进网页源代码HTML里，那我们需要查看Network——XHR。

好，打开检查工具，选择Network-XHR，仍然在文本框输入“音乐剧”，然后点击一次“Word2vec”的功能，看看浏览器是如何帮我们传输数据的。

爬虫练习_画板 1 副本
爬虫练习-04
在Preview（预览）当中，我们看到一个字典，就包含了返回的联想词汇。

我们现在得去看看，这个XHR请求的网址是什么，请求的内容是什么。我们来点击Headers。

爬虫练习-05
如上图，你会看到三个框，它们是我们要重点留意的东西。第0个框，告诉我们请求的网址是：http://ictclas.nlpir.org/nlpir/index6/getWord2Vec.do，以及请求的方式POST。

第1个框，是我们熟悉的User-Agent。服务器会根据这个信息判断提交请求的是人还是爬虫，所以要封装headers。

第2个框，就是POST请求所提交的数据。你看到它是一个字典的结构，包含一个键——content，和对应的值——音乐剧。

提交这些数据给服务器，服务器会返回给我们一个字典，你可以在Preview中看到。

爬虫练习-04
在网页中，对应的是左侧的圆圈。

分析完数据的请求和返回，我们就有了大概的思路了：首先发送post请求，然后在返回的数据中，取出我们需要的结果即可。